<body>
  <app-header></app-header>
  <div class="container">
    <div class="main">
      <app-breadcrumb
        link="Minhas obras"
        item="Etapas"
        router="/obras"
      ></app-breadcrumb>
      <div class="create-stage" style="padding-bottom: 15px">
        <app-button
          color="primary"
          title="NOVA ETAPA"
          (click)="modalAdd()"
        ></app-button>
      </div>
      <div *ngFor="let stage of listStages">
        <mat-expansion-panel style="margin-bottom: 15px">
          <mat-expansion-panel-header>
            <mat-panel-title class="title-stage">
              {{ stage.nomeEtapa }}
              <img
                class="icon-edit"
                src="../../../assets/icons/edit-list.svg"
                (click)="modalRename(stage.id)"
              />
              <img
                src="../../../assets/icons/delete-job.svg"
                class="delete-icon"
                (click)="modalDelete(stage.id)"
              />
            </mat-panel-title>
          </mat-expansion-panel-header>
          <app-job [etapaId]="stage.id"></app-job>
        </mat-expansion-panel>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</body>
